{%- extends 'layout.html' -%}
{%- block content %}
<ul class="nav nav-tabs" id="edit_tabs">
  <li id="dataset-tab" class="active navtab">
    <a href="#">Edit dataset</a>
  </li>
  <li id="apriori-tab" class="navtab">
    <a href="#">Specify ranking</a>
  </li>
</ul>
<div class="navtab-content dataset-tab-content">
  <h2>
    <input id="dataset-name" type="text" placeholder="Dataset name" />
  </h2>
  <table class="tableaux">
    <thead>
      <tr>
        <th class="heading">
          <div class="heading-spacer"></div>
          <div class="label-container">
            <p>Input</p>
          </div>
        </th>
        <th class="heading">
          <div class="heading-spacer"></div>
          <div class="label-container">
            <p>Output</p>
          </div>
        </th>
        <th class="heading">
          <div class="heading-spacer"></div>
          <div class="label-container">
            <p>Optimal</p>
          </div>
        </th>
        <th class="constraint">
          <div class="col-controls">
            <span class="add-left">+</span>
            <span class="delete-this">&times;</span>
            <span class="add-right">+</span>
          </div>
          <input type="text" value="C1" />
        </th>
        <th class="constraint">
          <div class="col-controls">
            <span class="add-left">+</span>
            <span class="delete-this">&times;</span>
            <span class="add-right">+</span>
          </div>
          <input type="text" value="C2" />
        </th>
        <th class="constraint">
          <div class="col-controls">
            <span class="add-left">+</span>
            <span class="delete-this">&times;</span>
            <span class="add-right">+</span>
          </div>
          <input type="text" value="C3" />
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="input">
          <input type="text" value="I1" />
        </td>
        <td class="output">
          <input type="text" value="O1" />
        </td>
        <td class="optimal">
          <input type="checkbox" />
        </td>
        <td class="violation-vector">
          <input type="number" />
        </td>
        <td class="violation-vector">
          <input type="number" />
        </td>
        <td class="violation-vector">
          <input type="number" />
        </td>
        <td class="row-controls">
          <p class="add-above">+</p>
          <p class="delete-this">&times;</p>
          <p class="add-below">+</p>
        </td>
      </tr>
    </tbody>
  </table>
</div>
  <div class="navtab-content apriori-tab-content">
    <h2>Specify an apriori ranking</h2>
    <div class="row vertical-align">
      <div class="span2">
        <a href="#" id="clear" class="btn btn-danger">Clear ranking</a>
      </div>
      <div class="span10">
        <div id="apriori_table_container"></div>
      </div>
    </div>
    <div class="row">
      <div class="span2"></div>
      <div class="span10">
        <div class="alert" id="ranking_required_alert">That ranking is required by transitivity. In order to remove it, you'll have to adjust the other rankings.</div>
      </div>
    </div>
  </div>
  {% raw %}
  <script type="text/x-handlebars-template" id="apriori_table_template">
    <table class="table" id="apriori_table">
        <thead class="no_top_border">
        <tr>
          <th class="center_contents">This constraint...</th>
          <th id="header_label" class="center_contents">is ranked above these constraints</th>
        </tr>
        </thead>
      <tr>
          <td class="center_contents empty_cell"></td>
        {{#constraints}}
          <td class="constraint center_contents">{{constraint}}</td>
        {{/constraints}}
      </tr>
      {{#constraints}}
        <tr class="constraint_row" id="row_{{constraint}}">
          <td class="constraint row_header center_contents">{{constraint}}</td>
          {{#dominates}}
          <td class="center_contents checkbox_container" name="{{this}}"></td>
          {{/dominates}}
        </tr>
      {{/constraints}}
    </table>
  </script>
  {% endraw %}
{%- endblock -%}
{%- block js_footer -%}
<script type="text/javascript" src="/javascript/tabs.js"></script>
<script type="text/javascript" src="/javascript/tableaux.js"></script>
<script type="text/javascript" src="/javascript/transitive_set.js"></script>
<script type="text/javascript" src="/javascript/ranking.js"></script>
<script type="text/javascript" src="/javascript/ranking_table.js"></script>
<script type="text/javascript" src="/javascript/apriori_ranking.js"></script>
{%- endblock -%}
