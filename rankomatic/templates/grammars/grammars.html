{%- extends 'layout.html' -%}
{%- block content -%}
<div class="hero-unit">
  <h2>Global statistics</h2>
  <table class="table">
    <thead>
      <tr><th>Grammar Type</th><th># Compatible</th><th># Possible</th><th>% Compatible</th></tr>
    </thead>
    <tbody>
      <tr><td>Partial</td><td>{{ num_poots }}</td><td>{{ num_total_poots }}</td><td>{{ '%0.2f' % percent_poots }}</td></tr>
      <tr><td>Classical</td><td>{{ num_cots }}</td><td>{{ num_total_cots }}</td><td>{{ '%0.2f' % percent_cots }}</td></tr>
    </tbody>
  </table>
  <a class="btn btn-primary" href="{{ url_for('grammars.entailments', dset_name=dset_name) }}">Global entailments</a>
</div>
<div class="container">
  <h2>View grammars and statistics by number of rankings</h2>
  <div class="btn-toolbar">
    <div class="btn-group">
      {%- for l in lengths -%}
      <a class="btn{%- if l == num_rankings %} active{%- endif -%}" href="{{ url_for('grammars.grammars', dset_name=dset_name, num_rankings=l, page=0) }}">{{ l }}</a>
      {%- endfor -%}
    </div>
  </div>
  <div>
    <p>Currently viewing {{ min_ind + 1 }}-{{ max_ind + 1 }} out of {{ num_rank_grams }} grammars with {{ num_rankings }} rankings.</p>
    <div class="btn-group">
      <a class="btn{%- if page <= 0 %} disabled"{%- else -%}" href="{{ url_for('grammars.grammars', dset_name=dset_name, num_rankings=num_rankings, page=(page-1)) }}"{%- endif -%}>Prev</a>
      <a class="btn{%- if max_ind + 1 >= num_rank_grams %} disabled"{%- else -%}" href="{{ url_for('grammars.grammars', dset_name=dset_name, num_rankings=num_rankings, page=(page+1)) }}"{%- endif -%}>Next</a>
    </div>
  </div>
  <div id="grammars">
  </div>
</div>
<div id="info"  dset_name="{{ dset_name }}" num_rankings="{{ num_rankings }}"></div>
{%- endblock -%}
{%- block js_footer -%}
<script type="text/javascript" src="/static/grammars.js"></script>
{%- endblock -%}
